<div class="col-md-12 tree-select" style="padding: 0px">
  <div class="col-md-12 d-flex align-items-center" [style.padding]="0">
    <div
      class="col-md-12 item-group"
      style="padding-bottom: 5px; padding-left: 0; padding-right: 0"
    >
      <mat-form-field class="w-inherit" appearance="outline">
        <mat-label *ngIf="label && selected">
          {{ label }}
        </mat-label>
        <mat-select
          panelClass="custom-panel"
          [(ngModel)]="selected"
          name="selection_tree"
          [required]="isRequired"
          [disabled]="isDisable"
          [placeholder]="placeholder"
          #selection="ngModel"
          (openedChange)="selectedOpenedChange($event)"
          multiple
          #matSelect
        >
          <div class="search-input">
            <mat-form-field class="w-100 px-3">
              <input
                type="text"
                name="searchText"
                (keydown)="$event.stopPropagation()"
                id="search"
                matInput
                [placeholder]="placeholderSearch"
                [(ngModel)]="searchText"
                #input
                (ngModelChange)="searchTextChange()"
              />
            </mat-form-field>
          </div>
          <div class="action-select-all-delete">
            <div class="d-flex">
              <button *ngIf="isShowAll && !filter.isShowAll" class="btn btn-link mr-10" (click)="showAllToggle()">
                Show Inactive option
              </button>
              <button *ngIf="isShowAll && filter.isShowAll" class="btn btn-link mr-10" (click)="showAllToggle()">
                Hide Inactive option
              </button>
              <button class="btn btn-default" (click)="handleClear()">
                Clear
              </button>
            </div>
            <div class="d-flex">
              <button class="btn btn-default mr-10" (click)="onCancelSelect()">
                Cancel
              </button>
              <button class="btn btn-primary" (click)="onSubmitSelect()">
                Ok
              </button>
            </div>
          </div>
          <div class="options">
            <mat-option
              *ngIf="!options || !options.length"
              disabled
              class="text-center"
            >
              No data
              <span *ngIf="searchText"> by "{{ searchText }}"</span>
            </mat-option>
            <ng-container *ngFor="let option of options">
              <mat-option
                *ngIf="option.value"
                [value]="option.value"
                [hidden]="option.hidden"
                [matTooltip]="option.name"
                (click)="onSelectNode(option)"
                [style.margin-left]="getMarginLeft(option.level)"
              >
                <div class="mat-option-text">
                  <span class="data-name" [style.font-weight]="option.hasChildren ? 'bold' : 'normal'">
                    {{ truncateNameOnMatOption(option.name, 45) }} </span>
                  <span *ngIf="!option.isActive" class="data-type-label"> 
                    Inactive</span>
                </div>
              </mat-option>
            </ng-container>
          </div>
        </mat-select>
      </mat-form-field>
    </div>
  </div>
</div>
